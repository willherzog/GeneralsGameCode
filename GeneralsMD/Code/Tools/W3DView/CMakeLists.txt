set(W3DVIEW_SRC
    "AddToLineupDialog.cpp"
    "AddToLineupDialog.h"
    "AdvancedAnimSheet.cpp"
    "AdvancedAnimSheet.h"
    "AggregateNameDialog.cpp"
    "AggregateNameDialog.h"
    "AmbientLightDialog.cpp"
    "AmbientLightDialog.h"
    "AnimatedSoundOptionsDialog.cpp"
    "AnimatedSoundOptionsDialog.h"
    "AnimationPropPage.cpp"
    "AnimationPropPage.h"
    "AnimationSpeed.cpp"
    "AnimationSpeed.h"
    "AnimMixingPage.cpp"
    "AnimMixingPage.h"
    "AnimReportPage.cpp"
    "AnimReportPage.h"
    "AssetInfo.cpp"
    "AssetInfo.h"
    "AssetPropertySheet.cpp"
    "AssetPropertySheet.h"
    "AssetTypes.h"
    "BackgroundBMPDialog.cpp"
    "BackgroundBMPDialog.h"
    "BackgroundColorDialog.cpp"
    "BackgroundColorDialog.h"
    "BackgroundObjectDialog.cpp"
    "BackgroundObjectDialog.h"
    "BoneMgrDialog.cpp"
    "BoneMgrDialog.h"
    "CameraDistanceDialog.cpp"
    "CameraDistanceDialog.h"
    "CameraSettingsDialog.cpp"
    "CameraSettingsDialog.h"
    "ColorBar.cpp"
    "ColorBar.h"
    "ColorPicker.cpp"
    "ColorPicker.h"
    "ColorPickerDialogClass.cpp"
    "ColorPickerDialogClass.h"
    "ColorSelectionDialog.cpp"
    "ColorSelectionDialog.h"
    "ColorUtils.cpp"
    "ColorUtils.h"
    "DataTreeView.cpp"
    "DataTreeView.h"
    "DeviceSelectionDialog.cpp"
    "DeviceSelectionDialog.h"
    "DialogToolbar.cpp"
    "DialogToolbar.h"
    "DirectoryDialog.cpp"
    "DirectoryDialog.h"
    "EditLODDialog.cpp"
    "EditLODDialog.h"
    "EmitterColorPropPage.cpp"
    "EmitterColorPropPage.h"
    "EmitterFramePropPage.cpp"
    "EmitterFramePropPage.h"
    "EmitterGeneralPropPage.cpp"
    "EmitterGeneralPropPage.h"
    "EmitterInstanceList.cpp"
    "EmitterInstanceList.h"
    "EmitterLineGroupPropPage.cpp"
    "EmitterLineGroupPropPage.h"
    "EmitterLinePropPage.cpp"
    "EmitterLinePropPage.h"
    "EmitterParticlePropPage.cpp"
    "EmitterParticlePropPage.h"
    "EmitterPhysicsPropPage.cpp"
    "EmitterPhysicsPropPage.h"
    "EmitterPropertySheet.cpp"
    "EmitterPropertySheet.h"
    "EmitterRotationPropPage.cpp"
    "EmitterRotationPropPage.h"
    "EmitterSizePropPage.cpp"
    "EmitterSizePropPage.h"
    "EmitterUserPropPage.cpp"
    "EmitterUserPropPage.h"
    "GammaDialog.cpp"
    "GammaDialog.h"
    "Globals.cpp"
    "Globals.h"
    "GraphicView.cpp"
    "GraphicView.h"
    "HierarchyPropPage.cpp"
    "HierarchyPropPage.h"
    "LODDefs.h"
    "MainFrm.cpp"
    "MainFrm.h"
    "MeshPropPage.cpp"
    "MeshPropPage.h"
    "OpacitySettingsDialog.cpp"
    "OpacitySettingsDialog.h"
    "OpacityVectorDialog.cpp"
    "OpacityVectorDialog.h"
    "ParticleBlurTimeKeyDialog.cpp"
    "ParticleBlurTimeKeyDialog.h"
    "ParticleFrameKeyDialog.cpp"
    "ParticleFrameKeyDialog.h"
    "ParticleRotationKeyDialog.cpp"
    "ParticleRotationKeyDialog.h"
    "ParticleSizeDialog.cpp"
    "ParticleSizeDialog.h"
    "PlaySoundDialog.cpp"
    "PlaySoundDialog.h"
    "ResolutionDialog.cpp"
    "ResolutionDialog.h"
    "resource.h"
    "RestrictedFileDialog.cpp"
    "RestrictedFileDialog.h"
    "RingColorPropPage.cpp"
    "RingColorPropPage.h"
    "RingGeneralPropPage.cpp"
    "RingGeneralPropPage.h"
    "RingPropertySheet.cpp"
    "RingPropertySheet.h"
    "RingSizePropPage.cpp"
    "RingSizePropPage.h"
    "SaveSettingsDialog.cpp"
    "SaveSettingsDialog.h"
    "ScaleDialog.cpp"
    "ScaleDialog.h"
    "SceneLightDialog.cpp"
    "SceneLightDialog.h"
    "ScreenCursor.cpp"
    "ScreenCursor.h"
    "SoundEditDialog.cpp"
    "SoundEditDialog.h"
    "SphereColorPropPage.cpp"
    "SphereColorPropPage.h"
    "SphereGeneralPropPage.cpp"
    "SphereGeneralPropPage.h"
    "SpherePropertySheet.cpp"
    "SpherePropertySheet.h"
    "SphereSizePropPage.cpp"
    "SphereSizePropPage.h"
    #"SphereUtils.cpp" # Unused and does not compile
    #"SphereUtils.h" # Unused and does not compile
    "StdAfx.cpp"
    "StdAfx.h"
    #"TextureMgrDialog.cpp" # Unused
    #"TextureMgrDialog.h" # Unused
    "TexturePathDialog.cpp"
    "TexturePathDialog.h"
    #"TextureSettingsDialog.cpp" # Unused
    #"TextureSettingsDialog.h" # Unused
    "Toolbar.cpp"
    "Toolbar.h"
    "Utils.cpp"
    "Utils.h"
    "Vector3RndCombo.cpp"
    "Vector3RndCombo.H"
    "ViewerAssetMgr.cpp"
    "ViewerAssetMgr.h"
    "ViewerScene.cpp"
    "ViewerScene.h"
    "VolumeRandomDialog.cpp"
    "VolumeRandomDialog.h"
    "W3DView.cpp"
    "W3DView.h"
    "W3DViewDoc.cpp"
    "W3DViewDoc.h"
    "W3DViewView.cpp"
    "W3DViewView.h"
)

add_executable(z_w3dview WIN32)

target_sources(z_w3dview PRIVATE ${W3DVIEW_SRC})

target_link_libraries(z_w3dview PRIVATE
    dbghelplib
    imm32
    Version
    vfw32
    winmm
    z_wwaudio
    z_wwcommon
    z_gameenginedevice
)

if(WIN32 OR "${CMAKE_SYSTEM}" MATCHES "Windows")
    target_compile_definitions(z_w3dview PRIVATE _AFXDLL)
    target_sources(z_w3dview PRIVATE W3DView.rc)
    set_target_properties(z_w3dview PROPERTIES OUTPUT_NAME W3DView)
else()
    set_target_properties(z_w3dview PROPERTIES OUTPUT_NAME w3dview)
endif()
